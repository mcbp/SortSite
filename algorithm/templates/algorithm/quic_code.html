<div class="code" id="code1"><p>for each unsorted partition:</p></div>
<div class="code" id="code2" style="padding-left: 2em"><p>select a median pivot from first, last and middle elements</p></div>
<div class="code" id="code3" style="padding-left: 2em"><p>move pivot to end of unsorted partition</p></div>
<div class="code" id="code4" style="padding-left: 2em"><p>for elements from leftMostInPartition to rightMostInPartition:</p></div>
<div class="code" id="code5" style="padding-left: 4em"><p>if element[i] < element[end]:</p></div>
<div class="code" id="code6" style="padding-left: 6em"><p>if rightPartition is not empty:</p></div>
<div class="code" id="code7" style="padding-left: 8em"><p>swap leftElement and rightElement</p></div>
<div class="code" id="code8" style="padding-left: 4em"><p>else</p></div>
<div class="code" id="code9" style="padding-left: 6em"><p>mark purple as right partition</p></div>
<div class="code" id="code10" style="padding-left: 2em"><p>move lastElement to pivot point between partitions</p></div>
